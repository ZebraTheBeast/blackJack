function boolColumn(n){return $.extend(!0,{width:80,template:function(t){return t[n.field]?'<span class="k-icon k-i-tick"><\/span>':""}},n)}function intColumn(n){var t=n.editorFormat||"{0:n0}",i=n.format||"{0:"+(n.editorFormat?n.editorFormat:"n0")+"}",r=n.min||0,u=n.max||null,f=n.step||1,e=n.step||!0;return $.extend(!0,{width:200,format:i,editor:function(n,i){$('<input name="'+i.field+'" data-bind="value:'+i.field+'"/>').appendTo(n).kendoNumericTextBox({format:t,min:r,max:u,step:f,spinners:e})}},n)}function floatColumn(n){var t=n.editorFormat||"",i=n.format||"{0:"+(n.editorFormat?n.editorFormat:"0.00")+"}",r=n.decimals||2,u=n.min||0,f=n.max||null,e=n.step||.01,o=n.step||!0;return $.extend(!0,{width:200,format:i,editor:function(n,i){$('<input name="'+i.field+'" data-bind="value:'+i.field+'"/>').appendTo(n).kendoNumericTextBox({format:t,decimals:r,min:u,max:f,step:e,spinners:o})}},n)}function doubleColumn(n){var t=n.editorFormat||"",i=n.format||"{0:"+(n.editorFormat?n.editorFormat:"n6")+"}",r=n.decimals||6,u=n.min||0,f=n.max||null,e=n.step||1e-6,o=n.step||!0;return $.extend(!0,{width:200,format:i,editor:function(n,i){$('<input name="'+i.field+'" data-bind="value:'+i.field+'"/>').appendTo(n).kendoNumericTextBox({format:t,decimals:r,min:u,max:f,step:e,spinners:o})}},n)}function dateColumn(n){return $.extend(!0,{format:"{0: yyyy-MM-dd}",width:200,editor:function(n,t){$('<input name="'+t.field+'" data-bind="value:'+t.field+'"/>').appendTo(n).kendoDatePicker({format:"yyyy-MM-dd",parseFormats:["yyyy-MM-dd"]})}},n)}function timeColumn(n){return $.extend(!0,{format:"{0: HH:mm}",width:200,editor:function(n,t){$('<input name="'+t.field+'" data-bind="value:'+t.field+'"/>').appendTo(n).kendoTimePicker({format:"HH:mm",parseFormats:["HH:mm"]})}},n)}function datetimeColumn(n){return $.extend(!0,{format:"{0: yyyy-MM-dd HH:mm}",width:200,editor:function(n,t){$('<input name="'+t.field+'" data-bind="value:'+t.field+'"/>').appendTo(n).kendoDateTimePicker({format:"yyyy-MM-dd HH:mm",parseFormats:["yyyy-MM-dd HH:mm"]})}},n)}function enumColumn(n){var n=n||{};return n.values=$.isArray(n.values)?$.map(n.values,function(n){return typeof n=="object"?n:{text:n,value:n}}):[],$.extend(!0,{width:200,filterable:{cell:{showOperators:!1}}},n)}function descriptionColumn(n){var t=n&&n.field||"Description";return $.extend(!0,{field:t,title:"描述",width:300,editor:function(t,i){$('<textarea name="'+i.field+'" data-bind="value:'+i.field+'" class="k-input k-textbox" rows="'+(n.fullPage?35:5)+'" style="width: 100%"/>').appendTo(t)},template:function(n){var i=n[t];return i?kendo.format("<pre class='k-content'>{0}<\/pre>",i):""}},n)}function resourceColumn(n){return $.extend(!0,{width:200,foreign:{mode:"resource"}},n)}function imageColumn(n){return resourceColumn($.extend(!0,{foreign:{tool:"insertImage",fileTypes:"*.png,*.jpg"}},n))}function imageCollectionColumn(n){return resourceColumn($.extend(!0,{foreign:{tool:"insertImage",fileTypes:"*.png,*.jpg",multipleInsert:!0}},n))}function videoColumn(n){return resourceColumn($.extend(!0,{foreign:{tool:"insertFile",fileTypes:"*.mp4"}},n))}function audioColumn(n){return resourceColumn($.extend(!0,{foreign:{tool:"insertFile",fileTypes:"*.mp3"}},n))}function flashColumn(n){return resourceColumn($.extend(!0,{foreign:{tool:"insertFile",fileTypes:"*.swf"}},n))}function flashCollectionColumn(n){return resourceColumn($.extend(!0,{foreign:{tool:"insertFile",fileTypes:"*.swf",multipleInsert:!0}},n))}function packageColumn(n){return resourceColumn($.extend(!0,{field:"Package",title:"资源包",foreign:{tool:"insertFile",fileTypes:"*.zip,*.rar"}},n))}function contentColumn(n){var i=n.Field||"Content",t=n.editorOptions||{},r=t.style||(n.fullPage?"height:560px":"");return $.extend(!0,{field:"Content",title:"内容",hidden:!0,editor:function(n,i){$('<textarea name="'+i.field+'" data-bind="value:'+i.field+'" style="'+r+'"><\/textarea>').appendTo(n).kendoContentEditor(t)},template:function(n){var t=n[i]||"";return"<pre>"+t+"<\/pre>"}},n)}(function(n,t){t(["./kendo.grid"],n)})(function(){return function(n,t){function v(n){for(var i=[],t=0;t<n.length;t++){if(!n[t].columns){i.push(n[t]);continue}i=i.concat(v(n[t].columns))}return i}function p(n,t){var r,f,i;if(typeof n===l&&n===t||u(n)&&n.name===t)return n;if(w(n))for(r=0,f=n.length;r<f;r++)if(i=n[r],typeof i===l&&i===t||i.name===t)return i;return null}function k(n,t){return n.field?t.editable&&!t.editable(n.field)?!1:n.editable&&!n.editable(t)?!1:!0:!1}var i=window.kendo,o=i.ui,r=i.ui.Grid,u=n.isPlainObject,s=n.extend,w=n.isArray,h=n.proxy,c="k-state-disabled",f=".kendoGrid",e="click",b="edit",l="string",a=["kendoComboBox","kendoDatePicker","kendoDateTimePicker","kendoDropDownList","kendoMaskedTextBox","kendoNumericTextBox","kendoMultiSelect"],y;String.prototype.toUpperCaseFirstLetter=function(){return this.replace(/\b\w+\b/g,function(n){return n.substring(0,1).toUpperCase()+n.substring(1)})};String.prototype.trimStart=function(n){if(!n)return this;for(var t=this;;){if(t.substr(0,n.length)!=n)break;t=t.substr(n.length)}return t};String.prototype.trimEnd=function(n){if(!n)return this;for(var t=this;;){if(t.substr(t.length-n.length,n.length)!=n)break;t=t.substr(0,t.length-n.length)}return t};String.prototype.trim=function(n){var t=n;return n||(t=" "),this.trimStart(t).trimEnd(t)};String.prototype.htmlEncode=function(){return n("<div/>").text(this).html()};String.prototype.htmlDecode=function(){return n("<div/>").html(this).text()};Date.prototype.getWeekOfYear=function(n){n=(n||0)-0;(isNaN(n)||n>6)&&(n=0);var t=this.getFullYear(),i=new Date(t,0,1),r=7-i.getDay()+n,u=(new Date(t,this.getMonth(),this.getDate())-i)/864e5+1;return Math.ceil((u-r)/7)+1};s(o,{enable:function(i,r){i.length&&(r=r===t?!0:r,i.data()&&n(a).each(function(){if(i.data()[this]){i.data()[this].enable(r);return}}),i.attr("disabled",!r))},readonly:function(i,r){i.length&&(r=r===t?!0:r,i.data()&&n(a).each(function(){if(i.data()[this]){i.data()[this].readonly(r);return}}),i.attr("readonly",r))}},!0);y=r.extend({init:function(t,i){var u=this,f;i.filterable&&i.filterable.autoBind&&(u.options.filterable={autoBind:!0});n(i.columns).each(function(){var t=this,r=t.foreign,i;r&&(i=r.mode||"key",i=="key"?n.extend(!0,t,u._createForeignKeyColumn(t)):i=="value"?n.extend(!0,t,u._createForeignValueColumn(t)):i=="collection"?n.extend(!0,t,u._createForeignCollectionColumn(t)):i=="resource"&&n.extend(!0,t,u._createForeignResourceColumn(t)))});typeof i.toolbar=="undefined"&&(i.toolbar=["title","separator","create","edit","destroy","update","canceledit"]);f=i.toolbarEx instanceof Array&&i.toolbar instanceof Array;f&&(i.toolbar=i.toolbar.concat(i.toolbarEx));i.name="Grid";r.fn.init.call(u,t,i);f&&n.each(i.toolbarEx,function(n,t){typeof t.init=="function"&&t.init.call(this)})},options:{name:"EditableGrid",scrollable:!1,sortable:!0,filterable:!0,selectable:!0,pageable:{refresh:!0,pageSizes:!0},columnsDisabled:!1,columnsReadonly:!1,editColumnSize:1,editable:"popup",dataBound:function(n){this.enableToolbar(this.select().length>0);typeof this.options.dataBoundEx=="function"&&this.options.dataBoundEx.call(this,n)},change:function(n){this.enableToolbar(this.select().length>0);typeof this.options.changeEx=="function"&&this.options.changeEx.call(this,n)},edit:function(t){var f=this,u=f.options,i=t.model,r=t.container,e=u.columnsDisabled,s=u.columnsReadonly;i.isNew()||n('[name="Id"]',r).attr("readonly",!0);n(u.columns).each(function(t,u){var f=u.field,c=n('label[for="'+f+'"]',r).parent(),h=c.next(".k-edit-field");c.attr("label-container-for",f);h.attr("data-container-for")||h.attr("data-container-for",f);(!i.editable||i.editable(f))&&f?e||u.disabled||u.editDisabled&&!i.isNew()?o.enable(n('[name="'+f+'"]',r),!1):(s||u.readonly||u.editReadonly&&!i.isNew())&&o.readonly(n('[name="'+f+'"]',r)):h.addClass("k-display-field")})},save:function(t){var u=this,i=t.model,r=i.isNew();n(u.options.columns).each(function(n,u){var f=u.field,c,s;if(u.foreign){var f=this.field,e=u.foreign,o=e.mode||"key",h=e.dataValueField||"Id";o=="key"?(c=e.entity||f.replace("Id",""),r&&!i[f]&&(s=t.container.find('input[name="'+f+'"]').data("kendoDropDownList").dataItem(),i[f]=s&&s[h]||null)):o=="entity"?(r&&!i[f]&&(i[f]=t.container.find('input[name="'+f+'"]').data("kendoDropDownList").dataItem()),i[f+"Id"]=i[f]?i[f].Id:null):o=="collection"}})}},select:function(t){var r=this,i=r.selectable;if(t=n(t),t.length){i.options.multiple||(i.clear(),t=t.first());r._isLocked()&&(t=t.add(t.map(function(){return r._relatedRow(this)})));i.value(t);return}return typeof i!="undefined"?i.value():t},enableToolbar:function(n,t){var r=this,u=r.options.toolbar,t=t||".k-grid-edit,.k-grid-delete",i;u&&(i=r.wrapper.find(".k-grid-toolbar"),typeof n=="undefined"&&(n=!0),n?i.find(t).removeClass(c):i.find(t).addClass(c))},showToolbar:function(n,t){var r=this,u=r.options.toolbar,i;u&&(i=r.wrapper.find(".k-grid-toolbar"),typeof n=="undefined"&&(n=!0),n?i.find(t).show():i.find(t).hide())},showError:function(n){dataSource.options.error.call(dataSource,n)},_toolbar:function(){var t=this,s=t.options.toolbar,l=t.options.editable,i,o;if(r.fn._toolbar.call(t),s){if(i=t.wrapper.find(".k-grid-toolbar"),l&&l.create!==!1){i.on(e+f,".k-grid-edit",function(){t.editRow(t.select())}).on(e+f,".k-grid-delete",function(i){n(i.target).hasClass(c)||t.removeRow(t.select())});i.find(".k-grid-update").hide();i.find(".k-grid-cancel").hide();this._editCancelClickHandler||(this._editCancelClickHandler=h(this._editCancelClick,this));i.on(e+f,"a.k-grid-cancel",this._editCancelClickHandler);this._editUpdateClickHandler||(this._editUpdateClickHandler=h(this._editUpdateClick,this));i.on(e+f,"a.k-grid-update",this._editUpdateClickHandler)}if(n.isArray(s))for(idx=0,length=s.length;idx<length;idx++)if(o=s[idx],u(o)&&typeof o.click=="function"){n(".k-grid-"+o.name).data("click",o.click);i.on(e+f,".k-grid-"+o.name,function(t){var i=n(this),r=i.data("click");i.hasClass("k-state-disabled")||typeof r!="function"||r.call(this,t)})}}},_createButton:function(n){var i=this,u,t;return n=="title"?(u=i.options,t=u.title||"",typeof t=="function"?t(i):t.length&&typeof t.prop=="function"?t.prop("outerHTML"):"<span class='k-title k-widget k-state-selected'>"+t+"<\/span>"):n=="separator"?"<span class='k-separator'><\/span>":n=="div"?"<div style='margin-top: 5px'><\/div>":typeof n.title=="string"?"<span class='k-title k-state-selected'>"+n.title+"<\/span>":r.fn._createButton.call(i,n)},_createPopupEditor:function(t){function at(n,t){a?g[n.tabIndex||0]+=t:o+=t}function bt(n){return n.nextRow||n.fullRow?' style="clear:left"':""}function pt(n){return n.halfRow&&w>1?" k-edit-field-half-row":n.mostRow&&w>2?" k-edit-field-most-row":n.fullRow&&w>1||n.fullPage?" k-edit-field-full-row":""}var f=this,w=f.options.editColumnSize,o="<div "+i.attr("uid")+'="'+t.uid+'" class="k-popup-edit-form'+(f._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container k-edit-form-'+w+'col-container">',r,c,st=[],e,y,ut,ht,ct,d,ft=v(f.columns),tt,it=f.options.editable,rt=it.template,wt=it.templateEditable,a=it.tabstrip||null,g=[],et=u(it)?it.window:{},vt=s({},i.Template,f.options.templateSettings),yt,ot,nt,lt;if(et=et||{},a&&n.isArray(a.items)){for(o+='<div class="k-edit-form-tabstrip"><ul>',e=0,y=a.items.length;e<y;e++)o+=(e===0?'<li class="k-state-active">':"<li>")+a.items[e]+"<\/li>",g.push("<div>");o+="<\/ul>"}if(rt)for(typeof rt===l&&(rt=window.unescape(rt)),o+=i.template(rt,vt)(t),yt=n(o),e=0,y=ft.length;e<y;e++)r=ft[e],!wt||r.command||r.hiddenEdit&&(typeof r.hiddenEdit!="function"||r.hiddenEdit.call(f,r))?r.command&&(d=p(r.command,"edit"),d&&(c=d)):(!t.editable||t.editable(r.field))&&r.field&&n('div[data-container-for="'+r.field+'"]',yt).length&&st.push({field:r.field,format:r.format,editor:r.editor,values:r.values});else for(e=0,y=ft.length;e<y;e++)r=ft[e],r.command||r.hiddenEdit&&(typeof r.hiddenEdit!="function"||r.hiddenEdit.call(f,r))?r.command&&(d=p(r.command,"edit"),d&&(c=d)):(at(r,'<div class="k-edit-label"'+bt(r)+'><label for="'+r.field+'">'+(r.title||r.field||"")+"<\/label><\/div>"),k(r,t)?(st.push({field:r.field,format:r.format,editor:r.editor,values:r.values}),at(r,"<div "+i.attr("container-for")+'="'+r.field+'" class="k-edit-field'+pt(r,w)+'"><\/div>')):(ot={storage:{},count:0},ut=i.template(f._cellTmpl(r,ot),vt),ot.count>0&&(ut=h(ut,ot.storage)),at(r,'<div class="k-edit-field"'+pt(r,w)+">"+ut(t)+"<\/div>")));if(c&&u(c)&&(c.text&&u(c.text)&&(ht=c.text.update,ct=c.text.cancel),c.attr&&(tt=c.attr)),g.length){for(e=0,y=g.length;e<y;e++)o+=g[e]+"<\/div>";o+="<\/div>"}f._isMobile?(o+="<\/div><\/div>",f.editView=f.pane.append("<div data-"+i.ns+'role="view" data-'+i.ns+'use-native-scrolling="true" data-'+i.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+i.ns+'role="header" class="k-header">'+f._createButton({name:"update",text:ht,attr:tt})+(et.title||"Edit")+f._createButton({name:"canceledit",text:ct,attr:tt})+"<\/div>"+o+"<\/div>"),nt=f._editContainer=f.editView.element.find(".k-popup-edit-form")):(o+='<div class="k-edit-buttons k-state-default">',o+=f._createButton({name:"update",text:ht,attr:tt})+f._createButton({name:"canceledit",text:ct,attr:tt}),o+="<\/div><\/div><\/div>",nt=f._editContainer=n(o).appendTo(f.wrapper).eq(0).kendoWindow(s({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(i){if(i.userTriggered){if(i.sender.element.focus(),f.trigger("cancel",{container:nt,model:t})){i.preventDefault();return}var r=f.items().index(n(f.current()).parent());f.cancelRow();f.options.navigatable&&(f._setCurrent(f.items().eq(r).children().filter(NAVCELL).first()),focusTable(f.table,!0))}}},et)));a&&(lt=g.length?n(".k-edit-form-tabstrip",nt):a.selector?n(a.selector):null,lt&&lt.kendoTabStrip(s(!0,{animation:{open:{effects:"fadeIn"}}},a)));f.editable=f._editContainer.kendoEditable({fields:st,model:t,clearContainer:!1,target:f}).data("kendoEditable");f._isMobile&&nt.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){n(this).next().children("input").click()});f._openPopUpEditor();f.trigger(b,{container:nt,model:t})},_createInlineEditor:function(n,t){var u=this,f=u.options.toolbar,i;r.fn._createInlineEditor.call(u,n,t);f&&(i=u.wrapper.find(".k-grid-toolbar"),i.find(".k-grid-edit").hide(),i.find(".k-grid-delete").hide(),i.find(".k-grid-update").show(),i.find(".k-grid-cancel").show())},_destroyEditView:function(){var t=this,i=t.options.toolbar,n;r.fn._destroyEditView.call(t);i&&(n=t.wrapper.find(".k-grid-toolbar"),n.find(".k-grid-update").hide(),n.find(".k-grid-cancel").hide(),n.find(".k-grid-edit").show(),n.find(".k-grid-delete").show())},_createForeignKeyColumn:function(r){function s(t,i,r){return r=n.extend(!0,{field:i.field,entity:u.entity,dataTextField:u.dataTextField,dataValueField:u.dataValueField,template:u.template,url:u.url,expand:u.expand,virtual:u.virtual},r),t.kendoEditableDropDownList(r)}var f=r.field,h=r.id||null,c=r.editorInit,u=r.foreign,e=u.entity||f.replace("Id",""),y=u.required&&"required"||"",l=u.editorAttr||"",p=u.dataTextField||"Name",a=u.dataValueField||"Id",w=u.filterOperator||"startswith",o=u.filter||[],v=u.filterAutoBind||this.options.filterable.autoBind||!1;return typeof o=="function"&&(o=o({})),n.extend(!0,{width:200,editor:function(o,v){var p=v.model,k=n("<input"+(h?' id="'+h+'" ':"")+' name="'+f+'" data-bind="value:'+f+'" '+y+(l?" "+l:"")+"/>").appendTo(o),b=u.filter||[],d=p[f],g;typeof b=="function"&&(b=b(p));g=s(k,r,n.extend(!0,{value:d&&u.virtual?d:t,filter:w,dataSource:{filter:b},dataBound:function(){var t=this,n;p.isNew()&&(e!=f&&(n=t.dataItem(),p[e]=n&&n[a]?n:null),t.trigger("change"))}},r.editorOptions)).data("kendoDropDownList");e!=f&&n.extend(!0,g,{_change:function(){var t=this,n=t.dataItem();p[e]=n&&n[a]?n:null;i.ui.DropDownList.fn._change.call(t)}});typeof c=="function"&&c(o,k,v)},template:e!=f?i.format("#=typeof({0}) != 'undefined' && {0} ? {0}.{1} : ''#",e,p):i.format("#=typeof({0}) != 'undefined' && {0} ? {0} : ''#",e),filterable:r.hidden?null:{ui:function(n){s(n,r,{autoBind:v,dataSource:{filter:o}})},cell:{template:function(n){s(n.element,r,{autoBind:v,dataSource:{filter:o}})},showOperators:!1}}},r)},_createForeignValueColumn:function(t){function o(t,i,u){return u=n.extend(!0,{field:i.field,entity:r.entity,dataTextField:r.dataTextField,dataValueField:r.dataValueField,template:r.template,url:r.url,expand:r.expand,virtual:r.virtual},u),t.kendoEditableComboBox(u)}var f=t.field,r=t.foreign,s=t.editorInit,u=r.entity||f.replace("Id",""),l=r.required&&"required"||"",a=r.dataTextField||"Name",h=r.dataValueField||"Id",v=r.filterOperator||"startswith",e=r.filter||[],c=r.filterAutoBind||this.options.filterable.autoBind||!1;return typeof e=="function"&&(e=e({})),n.extend(!0,{width:200,editor:function(e,c){var a=c.model,w=n('<input name="'+f+'" data-bind="value:'+f+'" '+l+"/>").appendTo(e),y=r.filter||[],p;typeof y=="function"&&(y=y(a));p=o(w,t,n.extend(!0,{filter:v,dataSource:{filter:y},dataBound:function(){var t=this,n;a.isNew()&&(u!=f&&(n=t.dataItem(),a[u]=n&&n[h]?n:null),t.trigger("change"))}},t.editorOptions)).data("kendoComboBox");u!=f&&n.extend(!0,p,{_change:function(){var t=this,n=t.dataItem();a[u]=n&&n[h]?n:null;i.ui.ComboBox.fn._change.call(t)}});typeof s=="function"&&s(e,c)},template:u!=f?i.format("#=typeof({0}) != 'undefined' && {0} ? {0}.{1} : ''#",u,a):i.format("#=typeof({0}) != 'undefined' && {0} ? {0} : ''#",u),filterable:t.hidden?null:{ui:function(n){o(n,t,{autoBind:c,dataSource:{filter:e}})},cell:{template:function(n){o(n.element,t,{autoBind:c,dataSource:{filter:e}})},showOperators:!1}}},t)},_createForeignCollectionColumn:function(t){function y(t){var r=t.parent().parent().data("kendoFilterCell"),f=r.viewModel;n.extend(!0,r,{_merge:function(t){var f=this,o=t.logic||"and",e=t.filters,r,h=f.dataSource.filter()||{filters:[],logic:"and"};return e.length&&(r=e[0],r.value.length?r.expression=n.map(r.value,function(n){return i.format("{0}/{1}({2}:{2}/{3} eq '{4}')",u,"any",l,s,n[s])}).join(" "+o+" "):t.filters=[]),i.ui.FilterCell.fn._merge.call(f,t)},_parse:function(n){return n||""}})}function e(t,i,u){return u=n.extend(!0,{field:i.field,entity:r.entity,placeholder:r.placeholder,dataTextField:r.dataTextField,dataValueField:r.dataValueField,template:r.template,valueTemplat:r.valueTemplate,url:r.url,expand:r.expand},u),t.kendoEditableMultiSelect(u)}var u=t.field,c=t.templatePre||!1,r=t.foreign,o=t.editorInit,l=r.entity||u.replace(/(\s+)?.$/,""),a=r.dataTextField||"Name",s=r.dataValueField||"Id",v=r.filterOperator||"startswith",f=r.filter||[],h=r.filterAutoBind||this.options.filterable.autoBind||!1;return typeof f=="function"&&(f=f({})),n.extend(!0,{width:200,editor:function(i,f){var h=f.model,c=n('<input name="'+u+'" data-bind="value:'+u+'"/>').appendTo(i),s=r.filter||[];typeof s=="function"&&(s=s(h));e(c,t,n.extend(!0,{autoClose:!1,filter:v,dataSource:{filter:s}},t.editorOptions));typeof o=="function"&&o(i,f)},template:function(t){var i=t[u]?n.map(t[u],function(n){return n[a]}).join(" | "):"";return c&&(i='<pre class="k-content list-wrapper">'+i+"<\/pre>"),i},filterable:t.hidden?null:{ui:function(n){e(n,t,{autoBind:h,dataSource:{filter:f}})},cell:{operator:"any",template:function(n){y(n.element);e(n.element,t,{autoBind:h,dataSource:{filter:f}})},showOperators:!1}}},t)},_createForeignResourceColumn:function(r){var f=r.field,u=r.foreign,o=r.editorStyle||"width:100%; height:"+(r.fullPage?"560px":"100px"),e=r.editorInit;return n.extend(!0,{width:200,editor:function(i,s){var h=n('<textarea name="'+f+'" data-bind="value:'+f+'" style="'+o+'"><\/textarea>').appendTo(i).kendoResourceEditor(n.extend(!0,{field:f,height:r.fullPage?null:t,tool:u.tool,multipleInsert:u.multipleInsert,multipleUpload:u.multipleUpload,multipleDetele:u.multipleDetele,fileTypes:u.fileTypes,url:u.url,fileUrl:u.fileUrl,imageUrl:u.imageUrl,thumbnailUrl:u.thumbnailUrl,browserDialogOpen:u.browserDialogOpen,editorOptions:s},r.editorOptions)).data("kendoEditor");typeof e=="function"&&e(i,s)},template:function(t){function e(n){switch(n.extension.toLowerCase()){case".jpg":case".img":case".png":case".gif":return{"class":"",url:n.url?"url('"+n.url+"')":""};case".mp3":case".wav":return{"class":"fa fa-file-audio-o",url:"none"};case".xml":case".json":return{"class":"fa fa-file-text-o",url:"none"};case".rar":case".zip":return{"class":"fa fa-file-archive-o",url:"none"};default:return{"class":"fa fa-file-o",url:"none"}}}var r=t[f],u=i.ui.getFileName(r),e=typeof i.ui.options.getFileIcon=="function"?i.ui.options.getFileIcon:e;return u&&i.template(n("#resource-template").html())({Name:u,Icon:e({extension:i.ui.getFileExtension(u),url:r}),Url:r})||""}},r)}});o.plugin(y)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()});